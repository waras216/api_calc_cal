{
  "build": {
    "builder": "NIXPACKS"
  },
  "phases": {
    "setup": {
      "nixPkgs": ["python312", "mariadb", "pkg-config"]
    },
    "install": {
      "cmds": [
        "python3 -m venv /app/venv",
        "/app/venv/bin/pip install --upgrade pip",
        "/app/venv/bin/pip install -r requirements.txt"
      ]
    }
  },
  "deploy": {
    "start": "/app/venv/bin/gunicorn backend_calories_calc.wsgi:application --bind 0.0.0.0:$PORT"
  }
}
